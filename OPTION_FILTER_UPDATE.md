# 选项过滤功能更新

## 新增功能
✅ **选项过滤** - 自动隐藏空白或BLANK选项

## 功能描述
系统现在会自动过滤掉以下类型的选项，不在界面上显示：
- 空字符串 (`""`)
- 只包含空格的字符串 (`"   "`)
- 值为"BLANK"的选项（不区分大小写）

## 影响范围

### 1. 考试答题页面 (`/exam/[id]`)
- 空白选项不会在答题界面显示
- 选项标签（A、B、C、D）保持原有索引不变

### 2. 学生成绩详情页 (`/student/results/[id]`)
- 成绩查看时隐藏空白选项
- 正确答案和用户答案标识正常显示

### 3. 管理端成绩详情页 (`/results/[id]`)
- 管理员查看成绩时也隐藏空白选项
- 保持答案对比功能完整

### 4. 题目上传预览 (`/upload`)
- 上传后的题目预览隐藏空白选项
- 正确答案标识正常显示

### 5. PDF导出功能
- 生成的PDF报告中不包含空白选项
- 保持答案标识的准确性

## 实现细节

### 过滤逻辑
```javascript
// 过滤条件
if (!option || option.trim() === '' || option.trim().toLowerCase() === 'blank') {
  return null; // 不显示该选项
}
```

### 选项标签保持
- 即使某些选项被过滤，选项标签（A、B、C、D、E、F）仍保持原有的索引
- 例如：如果choice1为空，那么显示的选项仍然是 A、C、D... 而不是 A、B、C...
- 这确保了答案索引的一致性

## Excel格式示例

### 有效的选项格式
```
choice0: "JavaScript"     -> 显示为 A. JavaScript
choice1: "Python"         -> 显示为 B. Python  
choice2: ""               -> 不显示
choice3: "BLANK"          -> 不显示
choice4: "Java"           -> 显示为 E. Java
choice5: "   "            -> 不显示（只有空格）
```

### 答案格式保持不变
- 单选题：使用选项索引（0, 1, 2, 3, 4, 5）
- 多选题：使用选项索引组合（012, 0,1,2, 014等）

## 向后兼容性
- 完全兼容现有的Excel格式
- 现有题库无需修改即可使用
- 新功能不影响答案评分逻辑

## 使用建议
1. 在Excel中，不需要的选项可以：
   - 留空（空字符串）
   - 填写"BLANK"
   - 填写"blank"或"Blank"（不区分大小写）

2. 建议使用"BLANK"来明确标识不需要的选项，提高可读性

3. 题目至少应该有2个有效选项才能正常工作

## 技术实现
- 使用`.filter(Boolean)`过滤掉null值
- 在React渲染时进行过滤，不影响数据存储
- 保持原有的答案索引映射关系
